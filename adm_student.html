{% extends 'base.html' %}

{% block title %}Students table{% endblock %}
{% block content %}

<body class="bg-nav">

  {% with messages = get_flashed_messages() %}
  {% if messages %}
  <script>
    alert("{{ messages[0] }}");
  </script>
  {% endif %}
  {% endwith %}
  <div class="row">
    <a href="{{ url_for('page') }}"><button class="btn my-2 mx-2 btn-primary">Back</button></a>
  </div>>
  <div class="container-fluid">
    <div class="info">
      <h2>Students List</h2>
      <br>
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">Reg. No.</th>
          <th scope="col">Name</th>
          <th scope="col">Date of Birth</th>
          <th scope="col">Gender</th>
          <th scope="col">View</th>
          <th scope="col">Edit</th>
        </tr>
      </thead>
      <tbody>
        {% for i in admission_form %}
        <tr>
          <th scope="row">{{i.r_id}}</th>
          <td>{{i.first_name}} {{i.middle_name}} {{i.last_name}}</td>
          <td>{{i.date_of_birth}}</td>
          <td>{{i.gender}}</td>
          <td>
            <button class="btn btn-primary"
              onclick="window.location.href='{{ url_for('student_details', s_id=i.s_id) }}'">View</button>
          </td>
          <td><button class="btn btn-primary"
              onclick="window.location.href='{{ url_for('edit_students',s_id=i.s_id) }}'">Edit</button></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
{% endblock content %}